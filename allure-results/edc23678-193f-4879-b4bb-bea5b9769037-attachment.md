# Test info

- Name: Display Collections Functionality
- Location: C:\Users\2398035\OneDrive - Cognizant\Desktop\Hackathon-Bookshelves\tests\Collections.spec.js:18:1

# Error details

```
Error: page.goto: Target page, context or browser has been closed
Call log:
  - navigating to "https://www.urbanladder.com/", waiting until "load"

    at Home.goTo (C:\Users\2398035\OneDrive - Cognizant\Desktop\Hackathon-Bookshelves\Pages\Home.js:10:21)
    at C:\Users\2398035\OneDrive - Cognizant\Desktop\Hackathon-Bookshelves\tests\Collections.spec.js:20:16
    at C:\Users\2398035\OneDrive - Cognizant\Desktop\Hackathon-Bookshelves\tests\Collections.spec.js:19:14
```

# Test source

```ts
   1 | const fs = require('fs')
   2 | const path = require('path')
   3 |
   4 | class Home {
   5 |   constructor(page) {
   6 |     this.page = page;
   7 |   }
   8 |
   9 |   async goTo() {
> 10 |     await this.page.goto("https://www.urbanladder.com/");
     |                     ^ Error: page.goto: Target page, context or browser has been closed
  11 |   }
  12 |
  13 |   async fillInput(input) {
  14 |     const search = this.page.locator('#search');
  15 |     await search.fill(input);
  16 |   }
  17 |
  18 |   async clickSearchButton() {
  19 |     const searchButton = this.page.locator("#search_button");
  20 |     await searchButton.click();
  21 |   }
  22 |
  23 |   async clickProduct(product) {
  24 |     let bookshelves = this.page.locator(`h4:has-text("${product}")`);
  25 |     await bookshelves.waitFor();
  26 |     await bookshelves.scrollIntoViewIfNeeded();
  27 |     await bookshelves.click();
  28 |   }
  29 |
  30 |   async hoverCollection(navItemText) {
  31 |     const navItem = this.page.locator(`.topnav_item:has(span.topnav_itemname:text("${navItemText}"))`);
  32 |     await navItem.screenshot({path:'screenshot/collections.png'});
  33 |     await navItem.hover();
  34 |     await this.getListItems(navItem);
  35 |   }
  36 |
  37 |   async getListItems(navItemLocator) {
  38 |     const result = {};
  39 |
  40 |     const sublistItems = await navItemLocator.locator(".sublist_item").all();
  41 |
  42 |     for (const sublistItem of sublistItems) {
  43 |       const categoryTitleElement = sublistItem.locator(".taxontype a");
  44 |       const categoryTitle = await categoryTitleElement.textContent();
  45 |
  46 |       const items = [];
  47 |       
  48 |       const subNavItems = await sublistItem.locator(".taxonslist a").all();
  49 |       for (const subNavItem of subNavItems) {
  50 |         items.push(await subNavItem.textContent());
  51 |       }
  52 |       result[categoryTitle.trim()] = items;
  53 |     }
  54 |
  55 |     let outputJson = {
  56 |       data: result,
  57 |     };
  58 |     const outputPath = path.join(__dirname, "..", "data", "CollectionListOutput.json");
  59 |     fs.writeFileSync(outputPath, JSON.stringify(outputJson, null, 2));
  60 |   }
  61 | }
  62 |
  63 | module.exports = Home;
```